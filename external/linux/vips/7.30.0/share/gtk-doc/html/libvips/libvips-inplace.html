<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>inplace</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="VIPS Reference Manual">
<link rel="up" href="ch02.html" title="VIPS operation API by section">
<link rel="prev" href="libvips-histograms-lut.html" title="histograms_lut">
<link rel="next" href="VipsInterpolate.html" title="VipsInterpolate">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="libvips-histograms-lut.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">VIPS Reference Manual</th>
<td><a accesskey="n" href="VipsInterpolate.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#libvips-inplace.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#libvips-inplace.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry">
<a name="libvips-inplace"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libvips-inplace.top_of_page"></a>inplace</span></h2>
<p>inplace — in-place paintbox operations: flood, paste, line,
circle</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="libvips-inplace.stability-level"></a><h2>Stability Level</h2>
Stable, unless otherwise indicated
</div>
<div class="refsynopsisdiv">
<a name="libvips-inplace.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;vips/vips.h&gt;

<span class="returnvalue">int</span>                 (<a class="link" href="libvips-inplace.html#VipsPlotFn" title="VipsPlotFn ()">*VipsPlotFn</a>)                       (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *a</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *b</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *c</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-circle" title="im_draw_circle ()">im_draw_circle</a>                      (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> radius</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> fill</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-flood" title="im_draw_flood ()">im_draw_flood</a>                       (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libvips-rect.html#VipsRect" title="VipsRect"><span class="type">VipsRect</span></a> *dout</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-flood-blob" title="im_draw_flood_blob ()">im_draw_flood_blob</a>                  (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libvips-rect.html#VipsRect" title="VipsRect"><span class="type">VipsRect</span></a> *dout</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-flood-other" title="im_draw_flood_other ()">im_draw_flood_other</a>                 (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *test</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> serial</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libvips-rect.html#VipsRect" title="VipsRect"><span class="type">VipsRect</span></a> *dout</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-image" title="im_draw_image ()">im_draw_image</a>                       (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *sub</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-line" title="im_draw_line ()">im_draw_line</a>                        (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x1</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y1</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x2</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y2</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-line-user" title="im_draw_line_user ()">im_draw_line_user</a>                   (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x1</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y1</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x2</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y2</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libvips-inplace.html#VipsPlotFn" title="VipsPlotFn ()"><span class="type">VipsPlotFn</span></a> plot</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *a</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *b</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *c</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-mask" title="im_draw_mask ()">im_draw_mask</a>                        (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *mask_im</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-point" title="im_draw_point ()">im_draw_point</a>                       (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-rect" title="im_draw_rect ()">im_draw_rect</a>                        (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> left</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> top</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> width</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> height</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> fill</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-draw-smudge" title="im_draw_smudge ()">im_draw_smudge</a>                      (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> left</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> top</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> width</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> height</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-lineset" title="im_lineset ()">im_lineset</a>                          (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *in</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *out</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *mask</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *ink</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> n</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> *x1v</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> *y1v</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> *x2v</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> *y2v</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libvips-inplace.html#im-read-point" title="im_read_point ()">im_read_point</a>                       (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="libvips-inplace.description"></a><h2>Description</h2>
<p>
These operations directly modify the image. They do not thread, on 32-bit
machines they will be limited to 2GB images, and a little care needs to be
taken if you use them as part of an image pipeline. 
</p>
<p>
They are mostly supposed to be useful 
for paintbox-style programs.
</p>
</div>
<div class="refsect1">
<a name="libvips-inplace.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="VipsPlotFn"></a><h3>VipsPlotFn ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 (*VipsPlotFn)                       (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *a</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *b</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *c</code></em>);</pre>
<p>
A plot function, as used by <a class="link" href="libvips-inplace.html#im-draw-line-user" title="im_draw_line_user ()"><code class="function">im_draw_line_user()</code></a> to draw on an image.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to draw on</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x</code></em> :</span></p></td>
<td>position to draw at</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y</code></em> :</span></p></td>
<td>position to draw at</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>a</code></em> :</span></p></td>
<td>user data</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>b</code></em> :</span></p></td>
<td>user data</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>c</code></em> :</span></p></td>
<td>user data</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-circle"></a><h3>im_draw_circle ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_circle                      (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> radius</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> fill</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);</pre>
<p>
Draws a circle on <em class="parameter"><code>image</code></em>. If <em class="parameter"><code>fill</code></em> is <code class="literal">TRUE</code> then the circle is filled,
otherwise a 1-pixel-wide perimeter is drawn.
</p>
<p>
<em class="parameter"><code>ink</code></em> is an array of bytes containing a valid pixel for the image's format.
It must have at least IM_IMAGE_SIZEOF_PEL( <em class="parameter"><code>image</code></em> ) bytes.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-line" title="im_draw_line ()"><code class="function">im_draw_line()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to draw on</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x</code></em> :</span></p></td>
<td>centre of circle</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y</code></em> :</span></p></td>
<td>centre of circle</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>radius</code></em> :</span></p></td>
<td>circle radius</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>fill</code></em> :</span></p></td>
<td>fill the circle</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ink</code></em> :</span></p></td>
<td>value to draw</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-flood"></a><h3>im_draw_flood ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_flood                       (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libvips-rect.html#VipsRect" title="VipsRect"><span class="type">VipsRect</span></a> *dout</code></em>);</pre>
<p>
Flood-fill <em class="parameter"><code>image</code></em> with <em class="parameter"><code>ink</code></em>, starting at position <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>. The filled area is
bounded by pixels that are equal to the ink colour, in other words, it
searches for pixels enclosed by a line of <em class="parameter"><code>ink</code></em>.
</p>
<p>
The bounding box of the modified pixels is returned in <em class="parameter"><code>dout</code></em>. <em class="parameter"><code>dout</code></em> may be
NULL.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-flood-blob" title="im_draw_flood_blob ()"><code class="function">im_draw_flood_blob()</code></a>, <a class="link" href="libvips-inplace.html#im-draw-flood-other" title="im_draw_flood_other ()"><code class="function">im_draw_flood_other()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to fill</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x</code></em> :</span></p></td>
<td>position to start fill</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y</code></em> :</span></p></td>
<td>position to start fill</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ink</code></em> :</span></p></td>
<td>colour to fill with</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dout</code></em> :</span></p></td>
<td>output the bounding box of the filled area</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-flood-blob"></a><h3>im_draw_flood_blob ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_flood_blob                  (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libvips-rect.html#VipsRect" title="VipsRect"><span class="type">VipsRect</span></a> *dout</code></em>);</pre>
<p>
Flood-fill <em class="parameter"><code>image</code></em> with <em class="parameter"><code>ink</code></em>, starting at position <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>. The filled area is
bounded by pixels that are equal to the start pixel, in other words, it
searches for a blob of same-coloured pixels.
</p>
<p>
The bounding box of the modified pixels is returned in <em class="parameter"><code>dout</code></em>. <em class="parameter"><code>dout</code></em> may be
NULL.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-flood" title="im_draw_flood ()"><code class="function">im_draw_flood()</code></a>, <a class="link" href="libvips-inplace.html#im-draw-flood-other" title="im_draw_flood_other ()"><code class="function">im_draw_flood_other()</code></a>, <a class="link" href="libvips-inplace.html#im-draw-flood-blob" title="im_draw_flood_blob ()"><code class="function">im_draw_flood_blob()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to fill</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x</code></em> :</span></p></td>
<td>position to start fill</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y</code></em> :</span></p></td>
<td>position to start fill</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ink</code></em> :</span></p></td>
<td>colour to fill with</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dout</code></em> :</span></p></td>
<td>output the bounding box of the filled area</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-flood-other"></a><h3>im_draw_flood_other ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_flood_other                 (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *test</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> serial</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libvips-rect.html#VipsRect" title="VipsRect"><span class="type">VipsRect</span></a> *dout</code></em>);</pre>
<p>
Flood-fill <em class="parameter"><code>image</code></em> with <em class="parameter"><code>serial</code></em>, starting at position <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>. The filled 
area is bounded by pixels in <em class="parameter"><code>test</code></em> that are equal to the start pixel, in 
other words, it searches <em class="parameter"><code>test</code></em> for a blob of same-coloured pixels, marking 
those pixels in <em class="parameter"><code>image</code></em> with <em class="parameter"><code>serial</code></em>.
</p>
<p>
The bounding box of the modified pixels is returned in <em class="parameter"><code>dout</code></em>. <em class="parameter"><code>dout</code></em> may be
NULL.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-flood" title="im_draw_flood ()"><code class="function">im_draw_flood()</code></a>, <a class="link" href="libvips-morphology.html#im-label-regions" title="im_label_regions ()"><code class="function">im_label_regions()</code></a>, <a class="link" href="libvips-inplace.html#im-draw-flood-blob" title="im_draw_flood_blob ()"><code class="function">im_draw_flood_blob()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to mark</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>test</code></em> :</span></p></td>
<td>image to test</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x</code></em> :</span></p></td>
<td>position to start fill</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y</code></em> :</span></p></td>
<td>position to start fill</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>serial</code></em> :</span></p></td>
<td>mark pixels with this number</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dout</code></em> :</span></p></td>
<td>output the bounding box of the filled area</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-image"></a><h3>im_draw_image ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_image                       (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *sub</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>);</pre>
<p>
Draw <em class="parameter"><code>sub</code></em> on top of <em class="parameter"><code>image</code></em> at position <em class="parameter"><code>x</code></em>, <em class="parameter"><code>y</code></em>. The two images must have the 
same
Coding. If <em class="parameter"><code>sub</code></em> has 1 band, the bands will be duplicated to match the
number of bands in <em class="parameter"><code>image</code></em>. <em class="parameter"><code>sub</code></em> will be converted to <em class="parameter"><code>image</code></em>'s format, see
<code class="function">im_clip2fmt()</code>.
</p>
<p>
See also: <code class="function">im_insert()</code>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to draw on</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>sub</code></em> :</span></p></td>
<td>image to draw</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x</code></em> :</span></p></td>
<td>position to insert</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y</code></em> :</span></p></td>
<td>position to insert</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-line"></a><h3>im_draw_line ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_line                        (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x1</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y1</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x2</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y2</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);</pre>
<p>
Draws a 1-pixel-wide line on an image. 
</p>
<p>
<em class="parameter"><code>ink</code></em> is an array of bytes 
containing a valid pixel for the image's format.
It must have at least IM_IMAGE_SIZEOF_PEL( <em class="parameter"><code>image</code></em> ) bytes.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-circle" title="im_draw_circle ()"><code class="function">im_draw_circle()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to draw on</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x1</code></em> :</span></p></td>
<td>start point</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y1</code></em> :</span></p></td>
<td>start point</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x2</code></em> :</span></p></td>
<td>end point</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y2</code></em> :</span></p></td>
<td>end point</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ink</code></em> :</span></p></td>
<td>value to draw</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-line-user"></a><h3>im_draw_line_user ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_line_user                   (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x1</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y1</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x2</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y2</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libvips-inplace.html#VipsPlotFn" title="VipsPlotFn ()"><span class="type">VipsPlotFn</span></a> plot</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *a</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *b</code></em>,
                                                         <em class="parameter"><code><span class="type">void</span> *c</code></em>);</pre>
<p>
Calls <em class="parameter"><code>plot</code></em> for every point on the line connecting <em class="parameter"><code>x1</code></em>, <em class="parameter"><code>y1</code></em> and <em class="parameter"><code>x2</code></em>, <em class="parameter"><code>y2</code></em>.
If you pass <a class="link" href="libvips-inplace.html#im-draw-mask" title="im_draw_mask ()"><code class="function">im_draw_mask()</code></a> as the plot operation, you can draw wide lines
or lines with various brushes.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-mask" title="im_draw_mask ()"><code class="function">im_draw_mask()</code></a>, <a class="link" href="libvips-inplace.html#im-draw-line" title="im_draw_line ()"><code class="function">im_draw_line()</code></a>, <a class="link" href="libvips-inplace.html#im-draw-circle" title="im_draw_circle ()"><code class="function">im_draw_circle()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to draw on</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x1</code></em> :</span></p></td>
<td>start point</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y1</code></em> :</span></p></td>
<td>start point</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x2</code></em> :</span></p></td>
<td>end point</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y2</code></em> :</span></p></td>
<td>end point</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>plot</code></em> :</span></p></td>
<td>draw operation</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>a</code></em> :</span></p></td>
<td>draw operation parameter</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>b</code></em> :</span></p></td>
<td>draw operation parameter</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>c</code></em> :</span></p></td>
<td>draw operation parameter</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-mask"></a><h3>im_draw_mask ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_mask                        (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *mask_im</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);</pre>
<p>
Draw a mask on the image. <em class="parameter"><code>mask_im</code></em> is a monochrome 8-bit image with 0/255
for transparent or <em class="parameter"><code>ink</code></em> coloured points. Intermediate values blend the ink
with the pixel. Use with <code class="function">im_text()</code> to draw text on an image.
</p>
<p>
<em class="parameter"><code>ink</code></em> is an array of bytes 
containing a valid pixel for the image's format.
It must have at least IM_IMAGE_SIZEOF_PEL( <em class="parameter"><code>image</code></em> ) bytes.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-circle" title="im_draw_circle ()"><code class="function">im_draw_circle()</code></a>, <code class="function">im_text()</code>, <a class="link" href="libvips-inplace.html#im-draw-line-user" title="im_draw_line_user ()"><code class="function">im_draw_line_user()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to draw on</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x</code></em> :</span></p></td>
<td>draw mask here</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y</code></em> :</span></p></td>
<td>draw mask here</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ink</code></em> :</span></p></td>
<td>value to draw</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>mask_im</code></em> :</span></p></td>
<td>mask of 0/255 values showing where to plot</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-point"></a><h3>im_draw_point ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_point                       (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);</pre>
<p>
Draws a single point on an image. 
</p>
<p>
<em class="parameter"><code>ink</code></em> is an array of bytes containing a valid pixel for the image's format.
It must have at least IM_IMAGE_SIZEOF_PEL( <em class="parameter"><code>im</code></em> ) bytes.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-line" title="im_draw_line ()"><code class="function">im_draw_line()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to draw on</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x</code></em> :</span></p></td>
<td>position to draw</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y</code></em> :</span></p></td>
<td>position to draw</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ink</code></em> :</span></p></td>
<td>value to draw</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-rect"></a><h3>im_draw_rect ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_rect                        (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> left</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> top</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> width</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> height</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> fill</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);</pre>
<p>
Paint pixels within <em class="parameter"><code>left</code></em>, <em class="parameter"><code>top</code></em>, <em class="parameter"><code>width</code></em>, <em class="parameter"><code>height</code></em> in <em class="parameter"><code>image</code></em> with <em class="parameter"><code>ink</code></em>. If
<em class="parameter"><code>fill</code></em> is zero, just paint a 1-pixel-wide outline.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-circle" title="im_draw_circle ()"><code class="function">im_draw_circle()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to draw on</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>left</code></em> :</span></p></td>
<td>area to paint</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>top</code></em> :</span></p></td>
<td>area to paint</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>width</code></em> :</span></p></td>
<td>area to paint</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>height</code></em> :</span></p></td>
<td>area to paint</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>fill</code></em> :</span></p></td>
<td>fill the rect</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ink</code></em> :</span></p></td>
<td>paint with this colour</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-draw-smudge"></a><h3>im_draw_smudge ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_draw_smudge                      (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> left</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> top</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> width</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> height</code></em>);</pre>
<p>
Smudge a section of <em class="parameter"><code>image</code></em>. Each pixel in the area <em class="parameter"><code>left</code></em>, <em class="parameter"><code>top</code></em>, <em class="parameter"><code>width</code></em>,
<em class="parameter"><code>height</code></em> is replaced by the average of the surrounding 3x3 pixels. 
</p>
<p>
This an inplace operation, so <em class="parameter"><code>image</code></em> is changed. It does not thread and will
not work well as part of a pipeline. On 32-bit machines it will be limited
to 2GB images.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-line" title="im_draw_line ()"><code class="function">im_draw_line()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to smudge</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>left</code></em> :</span></p></td>
<td>area to smudge</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>top</code></em> :</span></p></td>
<td>area to smudge</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>width</code></em> :</span></p></td>
<td>area to smudge</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>height</code></em> :</span></p></td>
<td>area to smudge</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="im-lineset"></a><h3>im_lineset ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_lineset                          (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *in</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *out</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *mask</code></em>,
                                                         <em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *ink</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> n</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> *x1v</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> *y1v</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> *x2v</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> *y2v</code></em>);</pre>
</div>
<hr>
<div class="refsect2">
<a name="im-read-point"></a><h3>im_read_point ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 im_read_point                       (<em class="parameter"><code><a class="link" href="VipsImage.html" title="VipsImage"><span class="type">VipsImage</span></a> *image</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> x</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> y</code></em>,
                                                         <em class="parameter"><code><span class="type">VipsPel</span> *ink</code></em>);</pre>
<p>
Reads a single point on an image. 
</p>
<p>
<em class="parameter"><code>ink</code></em> is an array of bytes to contain a valid pixel for the image's format.
It must have at least IM_IMAGE_SIZEOF_PEL( <em class="parameter"><code>im</code></em> ) bytes.
</p>
<p>
See also: <a class="link" href="libvips-inplace.html#im-draw-point" title="im_draw_point ()"><code class="function">im_draw_point()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>image</code></em> :</span></p></td>
<td>image to read from</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x</code></em> :</span></p></td>
<td>position to read</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y</code></em> :</span></p></td>
<td>position to read</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ink</code></em> :</span></p></td>
<td>read value here</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success, or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>